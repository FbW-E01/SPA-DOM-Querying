<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Makeshift Menu</title>
</head>

<body>
    <h1 class="title">Menu ~ Delicious Carb Indulgences</h1>

    <main class="main">

        <ul class="food-category">
            <label class="category">Starters</label>
            <li class="food-item">Quiche</li>
            <li class="food-item">Bread and dips</li>
            <li class="food-item">All the pies</li>
        </ul>

        <ul class="food-category">
            <label class="category">Mains</label>
            <li class="food-item">Pizza</li>
            <li class="food-item">Pasta</li>
            <li class="food-item">Pie</li>
        </ul>

        <ul class="food-category">
            <label class="category">Desserts</label>
            <li class="food-item">Chocolate cake</li>
            <li class="food-item">Strawberry pie</li>
            <li class="food-item">Cheese cake</li>
        </ul>
    </main>
    <section class="allergy-warning">
        <h3 id="warning">All foods here contain gluten. Sorry...And also:</h3>
        <ul class="allergies">
            <li class="allergy-info">eggs</li>
            <li class="allergy-info">nuts</li>
            <li class="allergy-info">fish</li>
            <li class="allergy-info">milk</li>
            <li class="allergy-info">soy</li>
            <li class="allergy-info">shellfish</li>
        </ul>
    </section>
    <footer class="footer">
        <section class="food-desc">
            <h3>Delicious</h3>
        </section>
        <section class="food-desc">
            <h3>Fresh</h3>
        </section>
        <section class="food-desc">
            <h3>Tasty</h3>
        </section>
    </footer>
</body>
<script>
    document.querySelector('body').style.fontFamily = "'Times New Roman', Times, serif";
    document.querySelector('h1').style.textAlign = "center";
    const category = document.querySelectorAll('.category');
    category.forEach(e => {
        e.style.color = "blue";
        e.style.fontStyle = "italic";
    });
    const colorGenerator = () => `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, ${Math.random()})`;
    const uList = document.querySelectorAll("ul.food-category");
    uList.forEach(e => e.style.backgroundColor = colorGenerator());
    const foodCategory = document.querySelectorAll(".food-category");
    const mediaQuery = window.matchMedia("(min-width: 768px)");
    if (mediaQuery.matches) {
        document.querySelector("main").style.display = "flex";
        document.querySelector("main").style.justifyContent = "space-around";
        foodCategory.forEach(e => e.style.flexBasis = "25%");
    } else {
        document.querySelector("main").style.display = "block";
    }
    const warning = document.getElementById("warning");
    warning.style.fontSize = "1.3rem";
    warning.style.fontFamily = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
    warning.style.textAlign = "center";
    const allergyInfo = document.querySelectorAll(".allergy-info");
    allergyInfo.forEach((e, i) => {
        e.style.listStyle = "none"
        if(i % 2 === 0) {
            e.style.backgroundColor = "white";
        } else {
            e.style.backgroundColor = "skyblue";
        }
    })
    const allergyWarning = document.querySelector(".allergy-warning");
    allergyWarning.style.display = "flex";
    allergyWarning.style.flexDirection = "column";
    allergyWarning.style.width = "60%";
    allergyWarning.style.margin = "auto";
    const footer = document.querySelector("footer");
    footer.style.display = "flex";
    footer.style.justifyContent = "space-around";
    const footerItems = document.querySelectorAll(".food-desc");
    if (mediaQuery.matches) {
        footer.style.flexDirection = "row";
    } else {
        footer.style.flexDirection = "column";
        footer.style.alignItems = "center";
        footerItems.forEach(e => {
            e.style.marginTop = "30px";
        });
    }
    const footerStyle = {
        "width": "6em",
        "height": "6em",
        "border": "4px solid orange",
        "border-radius": "50%",
        "display": "flex",
        "justify-content": "center",
        "align-items": "center",
    };

    footerItems.forEach(e => {
        Object.assign(e.style, footerStyle);
    })
</script>
</html>
